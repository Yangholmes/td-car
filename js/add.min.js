var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var f=a[d];if(c.call(b,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in b||(b[d]={});b=b[d]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");
$("#imageSrc").on("change",function(){if(window.FileReader)var a=new FileReader;else $.tdAlert("\u60a8\u7684\u8bbe\u5907\u4e0d\u652f\u6301\u56fe\u7247\u9884\u89c8\u529f\u80fd\uff0c\u5982\u9700\u8be5\u529f\u80fd\u8bf7\u5347\u7ea7\u60a8\u7684\u8bbe\u5907\uff01");var c=this.files?this.files:[],b=$("#td-form-field-preview");c.length?/^image/.test(c[0].type)?1E6>c[0].size?(a=new FileReader,a.readAsDataURL(c[0]),a.onloadend=function(){b.css("height","80px");b.attr("src",this.result)}):(b.css("height","0"),
resetFileInput(),$.tdAlert("\u56fe\u7247\u5927\u5c0f\u9650\u5236\u57281M\uff01")):(b.css("height","0"),resetFileInput(),$.tdAlert("\u8bf7\u9009\u62e9\u56fe\u7247\uff01")):(b.css("height","0"),$.tdAlert("\u8bf7\u9009\u62e9\u6587\u4ef6\uff01"))});$("#td-form-field-preview").click(function(a){$("#td-form-field-preview").css("height","0");resetFileInput()});function resetFileInput(){$("#imageSrc")[0].value=""}
$("#td-add-submit").click(function(a){for(var c=arguments,b=$("form"),e=new FormData(b[0]),b=b.find("*[required]"),b=$jscomp.makeIterator(b),d=b.next();!d.done;d=b.next())if(field=d.value,!field.value)return $.tdAlert($(field).prev("label").css("color","red").animate({opacity:0},500,function(){$(this).css({opacity:"1",color:"black"})}).html()+"\u5fc5\u586b\u54e6~"),!1;(new yang).ajax("../server/car-management/car-add.php",{type:"POST",data:e,processData:!1,contentType:!1,progress:{uploadProgress:function(){console.log(c)},
downloadProgress:function(){console.log(c)}}}).then(function(a){console.log(a)},function(a){console.log(a)})});
